trigger:
- main

resources:
- repo: self

variables:
 - group: 'WebAPI'

stages:
- stage: Build
  displayName: Build and push stage
  jobs:
  - job: Build
    displayName: Build
    pool:
      vmImage: windows-latest
    steps:
    - task: DotNetCoreCLI@2
      inputs:
        command: 'custom'
        custom: 'dotnet ef database update'
        arguments: '-p .\Shared\Shared.csproj -s .\WebAPI'
        workingDirectory: '$(System.DefaultWorkingDirectory)'